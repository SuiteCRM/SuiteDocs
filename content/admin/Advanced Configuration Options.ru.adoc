---
Title: Настройка дополнительных параметров
Weight: 52
---

:author: likhobory
:email: likhobory@mail.ru

:toc:
:toc-title: Оглавление


= Настройка дополнительных параметров 

Перечисленные ниже дополнительные параметры конфигурации позволяют осуществлять более жёсткий контроль над действиями пользователей в системе.

== Блокирование Мастера обновления и Конструктора модулей, а также блокирование создания резервных копий файлов системы 

Если вы как системный администратор управляете несколькими копиями SuiteCRM, то вы можете сохранить полный контроль над системами, путём запрета внесения изменений в систему всем пользователям с административными правами. (Здесь необходимо отметить, что не следует путать системного администратора, имеющего доступ к базе данных и к файлам системы, и пользователя системы с административными правами). Для этого можно заблокировать доступ пользователей к Мастеру обновлений, Конструктору модулей, а также запретить создавать резервные копи файлов системы.
  
Для этого в файле *_config.php_*  установите следующий параметр:
 
[source,php]
['admin_access_control'] => true

== Контроль загрузки модулей

Чтобы быть уверенным, что пользователи системы с административными правами (но не имеющие доступа к файлу конфигурации *_config.php_*) не могут загружать посторонние модули в систему, вы можете ограничить  загрузку файлов рамками конкретной, контролируемой вами папки. Это позволит вам контролировать все загружаемые в систему модули. 

Для контроля загрузки модулей выполните следующее:

В файле *_config.php_*  установите следующие параметры: 

[source,php]
'use_common_ml_dir'=>'true',
'common_ml_dir'=>'ml_directory',

где *ml_directory*  - имя папки, из которой будет доступна загрузка модулей в систему. 

== Ограничение системных ресурсов

По умолчанию, любые обращения к базе данных, требующие выполнения более 1000 запросов, прерываются. Для операций импорта, экспорта, синхронизации и при работе в панели администрирования максимальное число запросов равняется 50,000. Таким образом, прерываются все процессы, занимающие слишком много системных ресурсов. Вы можете изменить эти настройки по своему усмотрению в файле config.php.

== Настройка прав доступа к файлам системы в ОС Linux

Если система работает на компьютере под управлением ОС Linux, то вы можете поменять владельца файлов системы, а также контролировать доступ ко всем файлам и папкам системы, путём настройки прав пользователя и группы. 

В следующем примере показана настройка прав чтения, записи и выполнения для пользователя и группы Apache:

[source,php]
'default_permissions' => array(
'dir_mode' => 02770,
'file_mode' => 0660,
'chown' => 'apache',
'chgrp' => 'apache',),

Для параметра *_dir_mode_* можно установить значение 1528, которое является десятичным эквивалентом восьмеричного значения 02770. Для параметра *_file_mode_* можно установить значение 432, которое является десятичным эквивалентом восьмеричного значения 0660. 

== Изменение расположения папки загрузок

Все файлы, загружаемые системой, хранятся в специальной папке загрузок, её расположение задаётся переменной *_upload_dir_* в файле *_config.php_*.  По умолчанию это папка upload, находящаяся в папке установленной системы.  При необходимости её расположение может быть изменено, для этого в переменной *_upload_dir_* задайте абсолютный путь к новому расположению папки загрузок.

{{% notice note %}}
Не забудьте скопировать все файлы из старой папки загрузок в новую.
{{% /notice %}}

Новая папка должна быть доступна для записи пользователю, под которым запущен веб-сервер.

== Изменение расположения папки кэширования

В системе активно используется кэширование данных, что значительно повышает её производительность. Для хранения кэшированных данных (скомпилированных шаблонов, данных электронной почты и т.д.) используется специальная папка и её размер может быть достаточно велик. По умолчанию это папка cache, находящаяся в папке установленной системы.  При необходимости её расположение может быть изменено, для этого в переменной *_cache_dir_*, расположенной в файле *_config.php_*, задайте абсолютный путь к новому расположению папки кэша. При этом на прежнем месте папки cache должна быть размещена ссылка, указывающая на новую папку кэша. Это необходимо для обеспечения доступа к некоторым закэшированным файлам системы.
Новая папка должна быть доступна для записи пользователю, под которым запущен веб-сервер.

== Постоянное отображение Расширенных фильтров в Формах списка

В SuiteCRM версии 7.8 вместо Базового и Расширенного поиска был введён более компактный функционал фильтров. Если вам все же необходимо постоянное отображение полей фильтра в верхней части Формы списка определённых модулей (как это было в более ранних версиях системы), добавьте соответствующий массив по аналогии со следующим примером (для модулей *Контрагенты*, *Пользователи* и *Сотрудники*) в файл *_config.php_*:

[source,php]
'enable_legacy_search' => 
  array (
    0 => 'Accounts',
    1 => 'Users',
    2 => 'Employees',  ),

либо соответствующие строки в файл *_config_override.php_*, например: 

[source,php]
$sugar_config['enable_legacy_search'][] = 'Accounts';
$sugar_config['enable_legacy_search'][] = 'Users';
$sugar_config['enable_legacy_search'][] = 'Employees';
