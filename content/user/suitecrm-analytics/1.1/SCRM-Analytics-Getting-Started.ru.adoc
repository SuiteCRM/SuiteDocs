---
title: Версия 1.1 - Начало работы
weight: 25
---

:author: likhobory
:email: likhobory@mail.ru

:toc:
:toc-title: Оглавление

:experimental:

:imagesdir: /images/en/user/Analytics-Gettingstarted

ifdef::env-github[:imagesdir: ./../../../../master/static/images/en/user/Analytics-Gettingstarted]

:btn: btn:

ifdef::env-github[:btn:]
 
= Начало работы

== Краткое описание

=== Консоль SuiteCRM Analytics

Консоль SuiteCRM позволяет пользователям системы работать с отчётами и панелями мониторинга, входящими как в стандартную поставку, так и созданными дополнительно, с помощью клиентских инструментов SuiteCRM Analytics.

{{% notice note %}}
Для настройки SuiteCRM Analytics выполните действия, описанные в 
link:../../../../admin/suitecrm-analytics[этом] разделе.
{{% /notice %}}

== Вход в SuiteCRM Web Analytics

Для входа в SuiteCRM Analytics выполните следующее:

. Откройте приложение в браузере, по умолчанию используется порт *8080*.
Как правило сервер доступен по адресу
*\http://localhost:8080/suitecrmanalytics*.

image:IMAGE1.png[Вход в SuiteCRM Web Analytics]

[start=2]
. Введите имя пользователя, пароль и нажмите на кнопку {btn}[Login].

{{% notice info %}}
По умолчанию используется имя пользователя `admin`, пароль - `password`.
{{% /notice%}}

== Страницы SuiteCRM Analytics

Интерфейс пользовательской консоли SuiteCRM Analytics состоит из нескольких страниц, позволяющих расширить ваши возможности при работе над различными задачами в любой момент времени.
По умолчанию консоль содержит страницы *Главная* (Home), *Обзор* (Browse), *Открытые* (Opened), *Расписания* (Schedules) и *Администрирование* (Administration).

=== Главная (Home)

Первое, что вы видите после входа в консоль *SuiteCRM Analytics* - это *Главная* страница, которая служит порталом для доступа к другим  инструментам.
Эта страница содержит кнопки быстрого доступа, чтобы вы могли *выбирать необходимые файлы*, *создавать новые* панели мониторинга, просматривать *документацию* и быстро открывать недавно просмотренные или избранные файлы.

image:IMAGE2.png[Главная]

[cols="1s,3,20",options="header"]
|=======================
|№ |Элемент интерфейса |Назначение
|1 |Главная |Название текущей страницы.
Главная страница позволяет легко переходить со страницы на страницу или возвращаться обратно на Главную страницу.
|2 |Текущий пользователь |Имя пользователя, работающего в консоли SuiteCRM Analytics. При необходимости вы можете войти в консоль под учётной записью другого пользователя, нажав на стрелку справа от имени пользователя.
|3 |Обзор файлов |Страница, где вы можете выбрать необходимые папки/файлы и выполнить над ними необходимые действия.
|4 |Создание панели |Здесь вы можете создать новую панель мониторинга. Если у вас есть права на работу с источниками данных, то вы также можете создать подключение к новому источнику данных.
|5 |Управление источниками данных |Позволяет администраторам управлять новыми или существующими источниками данных.
|6 |Последние |Показывает список недавно открытых файлов. Нажав на звёздочку рядом с элементом списка, вы можете добавить его в список избранного.
|7 |Избранное |Показывает список избранных файлов для быстрого доступа.
|=======================

=== Обзор файлов (Browse Files)
Страница *Обзор файлов* помогает упорядочить файлы и папки,  упрощает их поиск,а также позволяет выполнять над ними различные действия.

image:IMAGE3.png[Обзор файлов]

[cols="1s,3,20a",options="header"]
|=======================
|№ |Элемент интерфейса |Назначение
|1 |Browse Files(Обзор файлов) |Название текущей страницы.
Страница позволяет найти ваши файлы и папки, а также выполнить над ними различные действия.
Страница состоит из трёх панелей: Папки, Файлы и Действия.
|2 |Folders(Папки) |Показывает список папок, которые вы можете просматривать для нахождения необходимых файлов. Здесь же при необходимости вы можете создать новую папку или удалить ненужную.
|3 |Files (Файлы) |Показывает список всех файлов, содержащихся в выбранной папке.
После выбора файла панель *Действия* заполняется списком действий, которые вы можете выполнить над файлом.
|4 |Actions (Действия) |Отображаемые действия зависят от выбора, сделанного на панели папок или файлов, а именно:

- Действия над папками позволяют:
   * Создавать, удалять и переименовывать папки
   * Добавлять файлы в папку
   * Загружать файлы
   * Скачивать папки
   * Просматривать свойства, составлять расписание, скрывать папки, управлять доступом к папкам для различных пользователей и ролей (управление разрешениями, удаление, запись и чтение).
   
- Действия над файлами позволяют:
   * Открывать файлы в текущем или в новом окне
   * Запускать файлы в фоновом режиме
   * Редактировать, удалять, вырезать, копировать или вставлять файлы или папки
   * Делиться файлами с другими пользователями
   * Настраивать автоматическое создание отчётов по расписанию
   * Добавлять файлы в *Избранное*
   * Просматривать свойства файлов или папок
- Действия в корзине позволяют:
   * Восстанавливать файл из корзины.
   * Удалять файл без возможности восстановления
|=======================

=== Открытые (Opened)

Страница использует плагины для обеспечения доступа к различной аналитике. Данные на странице появляются после открытия соответствующего файла на странице *Обзор файлов*. Страница обеспечивает рабочее пространство для работы с открытым файлом.

image:IMAGE4.png[Открытые]

[cols="1s,3a,20a",options="header"]
|=======================
|№ |Элемент интерфейса |Назначение
|1 |[loweralpha]
. Открытые
. Открыть...
. Новая панель мониторинга или новый источник данных

|[loweralpha]
. Кнопка отображает файлы, открытые через панель *Обзор файлов*
. Кнопка позволяет открыть другие файлы, не покидая текущей страницы, отображая дополнительные файлы на отдельных вкладках.
. Кнопки, позволяющие быстро создать новую панель мониторинга или подключить новый источник данных (если у пользователя есть соответствующие права). 
|2 |Окно отчёта панели мониторинга
|Отображает текущий открытый файл, отчёт или панель мониторинга и позволяет работать с предоставленными данными
|=======================

=== Расписания (Schedules)

Все активные запланированные отчёты отображаются в расписаниях, к которым вы можете перейти, открыв  меню *Главная* > *Расписания* (*Home* > *Schedules*).

Расписание отображает отчёты, запланированные для создания, включая периодичность создания отчёта, время последнего создания отчёта, время следующего создания отчёта, а также текущий статус задачи.

image:IMAGE5.png[Расписания]

[cols="1s,3a,20a",options="header"]
|=======================
|№ |Элемент интерфейса |Назначение
|1 |Расписания |Название текущей страницы.
Страница отображает расписания, по которым создаются отчёты, панель инструментов для работы с расписаниями, а также время блокировки, в течение которого отчёты создаваться *не будут*.
|2 |Название |Названия расписаний, отсортированные по имени.
Для изменения направления сортировки нажмите на стрелку в правой части колонки.
|3 |Повторы |Правило повторного создания отчёта.
|4 |Исходный файл |Имя файла отчёта.
|5 |Расположение отчёта |Место сохранения создаваемого отчёта.
|6 |Предыдущий запуск |Время и дата последнего создания отчёта.
|7 |Следующий запуск |Время и дата следующего создания отчёта.
|8 |Создано |Имя пользователя, создавшего расписание.
|9 |Статус |Текущий статус задачи. Статус может быть обозначен как *Обычный* или *В паузе*.
|10 |Время блокировки |Перечень интервалов времени, в течение которых отчёты создаваться не будут.
|=======================

==== Отчёты по расписанию

Вы можете использовать страницу *Обзор файлов*, запуская создание отчётов через указанные промежутки времени, в определённое время и с различными параметрами.

=== Администрирование (Administration)

Администрировать SuiteCRM Analytics могут пользователи, которым назначена роль с соответствующими разрешениями. Такие пользователи  могут выполнять задачи по настройке и обслуживанию системы.
Если вы видите надпись *Administration* в левом верхнем меню на странице *Home*, вы можете кликнуть по ней для отображения пунктов меню, относящихся к администрированию SuiteCRM Analytics Server.
Если у вас нет прав администратора, меню администрирования отображаться не будет.

image:IMAGE6.png[Администрирование SuiteCRM Analytics]

[cols="1s,3a,20a",options="header"]
|=======================
|№ |Элемент интерфейса |Назначение
|1 |Администрирование |Название текущей страницы. На станице вы можете настроить права пользователей, настроить почтовый сервер и изменить параметры проверки подлинности на сервере SuiteCRM Analytics.
|2 |Пользователи и роли |Управление пользователями и ролями пользователей для доступа к SuiteCRM Analytics Server.
|3 |Почтовый сервер |Настройка сервера исходящей почты для отправки создаваемых отчётов.
|4 |Настройки |Управление настройками удаления старых  файлов (вручную или автоматически, через создание соответствующего расписания для удаления файлов).
|=======================

== Открытие отчёта

Для доступа к отчётам достаточно открыть папку *Public > SuiteCRM Analytics > Reports*. На центральной панели будет отображён список доступных отчётов.
Кликните дважды необходимый отчёт, и он откроется в новой вкладке. Вы также можете воспользоваться соответствующей настройкой на правой  панели, если необходимо открыть отчёт в новом окне браузера.

Отчёт будет создан немедленно на основе стандартных значений предустановленных фильтров.
При изменение того или иного фильтра отчёт будет автоматически обновлён. Если вас не устраивает автоматическое обновление  - отключите параметр *Auto Submit*, после чего отчёт будет обновляться только после настройки всех необходимых фильтров и нажатия на кнопку {btn}[View Report].

image:IMAGE7.png[Открытие отчёта в SuiteCRM Analytics]

== Открытие панели мониторинга

Доступ к панели мониторинга осуществляется точно так же, как и к отчётам: откройте папку *Public > SuiteCRM Analytics > Dashboards* и дважды кликните на необходимую панель. Панель откроется на отдельной вкладке, где пользователь может выбрать необходимые фильтры и нажать на кнопку *Refresh* для отображения необходимых данных.

image:IMAGE8.png[Открытие панели мониторинга в SuiteCRM Analytics]

== Управление ролями и пользователями

В этом разделе описываются стандартные настройки пользователей, ролей и разрешений, а также описывается управление пользователями и ролями в SuiteCRM Analytics.
Вы должны войти в консоль с правами администратора (или вам должна быть заранее назначена роль с разрешением *Administer Security*), чтобы управлять пользователями и ролями в SuiteCRM Analytics Security.

Управление пользователями включает:

* Добавление пользователей
* Изменение пароля пользователей
* Удаление пользователей
* Назначение пользователей в роль

Управление ролями включает:

* Добавление ролей
* Назначение ролям прав доступа
* Удаление ролей
* Назначение ролей пользователям

Вы можете управлять пользователями и ролями в консоли одним щелчком мыши.
Страница предоставляет возможность переключаться между пользователями и ролями, позволяя быстро добавлять, удалять и редактировать необходимые данные.

{{% notice note %}}
На странице *Обзор файлов* (Browse Files) можно настроить доступ к файлам или папкам.
Каждый файл или папка может использовать разрешения по умолчанию или разрешения, которые можно настроить для определённых пользователей и ролей.
{{% /notice %}}

=== Примеры пользователей, стандартных ролей и разрешений

Анализируя предоставленные примеры, вы можете получить представление о способах настройки ролей и прав пользователей.

. Откройте страницу *Главная > Администрирование > Пользователи и роли* (Home > Administration > Users & Roles).

. На вкладке *Управление пользователями* (Manage Users) выделите в списке необходимого пользователя, чтобы увидеть, какие роли доступны для этого пользователя, а также какая роль в настоящее время определена для этого пользователя.

. Выберите вкладку *Управление ролями* (Manage Roles), чтобы отобразить *Разрешения* (Operation Permissions), предустановленные для роли пользователя.
Эти роли, добавленные для вашего удобства, могут быть удалены или изменены в зависимости от ваших потребностей *(см. Таблицу 1)*.
Каждая роль и пользователь имеют стандартный набор разрешений, которые обеспечивают определённые возможности при работе с инструментарием SuiteCRM Analytics и с SuiteCRM Analytics Server *(см. Таблицу 2)*.

. Выберите вкладку *Системные роли* (System Roles) для отображения системной роли пользователя.
Системные роли - это встроенные роли, используемые для управления стандартными разрешениями, которые обрабатываются неявно или через конфигурацию системы и назначаются автоматически.
Системная роль по умолчанию для всех пользователей - *Authenticated*.
Если вы хотите ограничить разрешения, либо соответствующим образом измените эту роль, либо исключите из неё пользователя.

[caption="Таблица 1. "]
.Стандартные настройки безопасности SuiteCRM Analytics
[cols="2,1,10a",options="header"]
|=======================
|Роль |Пользователь |Стандартные разрешения
|Administrator (Администратор) |admin |
* Администрирование настроек безопасности
* Настройка расписания
* Чтение контента
* Публикация контента
* Создание контента
* Выполнение
* Управление источниками данных

|Business Analyst (Бизнес-аналитик) |pat |* Публикация контента

|Power User (Пользователь с расширенными правами) |suzy |
* Настройка расписания
* Чтение контента
* Публикация контента
* Создание контента
* Выполнение

|Report Author (Автор отчёта)|tiffany |
* Настройка расписания
* Публикация контента
|=======================

[caption="Таблица 2. "]
.Стандартные разрешения
[cols="1,3a",options="header"]
|=======================
|Разрешение  |Описание
|Administer Security (Администрирование настроек безопасности)  |Роль администратора, предоставляет ВСЕ разрешения пользователям, которым назначена эта роль. Разрешения включают чтение и создание контента, необходимые для доступа к странице *Администрирование*.

* Доступ к странице *Администрирование* (Administration).
* Доступ и возможность управления контентом на странице *Обзор файлов* (Browse Files).
* Доступ и возможность управления расписаниями на странице *Расписания* (Schedules).
* Возможность указания времени блокировки расписаний на странице *Расписания* (Schedules).

|Schedule Content (Настройка расписания) |* Выбор расписания, по которому будут создаваться отчёты.
* Возможность просмотра, редактирования или удаления пользователями своих собственных расписаний на странице *Расписания* (Schedules).

|Read Content (Чтение контента) |* Возможность просмотра контента на странице *Обзор файлов* (Browse Files).
* Возможность просмотра контента, используя меню *Файл > Открыть*  (File > Open).

|Publish Content (Публикация контента) |Возможность использования такого инструментария как Report Designer, Schema Workbench и Metadata Editor.

* Возможность сохранения отчётов или моделей данных в репозитории SuiteCRM Analytics.
* Возможность загрузки поддерживаемых типов контента (если используется совместно с разрешением на запись в целевой папке). 

|Create Content (Создание контента) |* Возможность создания, импорта, удаления и сохранения отчётов в репозитории.
* Возможность просмотра источников данных, которые используются при создании отчётов или панелей мониторинга.

|Manage Data Sources (Управление источниками данных) |* Возможность создания, редактирования или удаления источников данных.
*  Возможность просмотра источников данных, которые используются при создании отчётов или панелей мониторинга.
|=======================

=== Добавление новых пользователей

. На вкладке *Manage Users* нажмите на значок *(+)*, после чего появится диалоговое окно создания нового пользователя.

. Введите *имя пользователя*, *пароль*, *подтверждение пароля* и нажмите на кнопку {btn}[OK], после чего имя пользователя появится в списке пользователей.

=== Изменение пароля пользователя

. На вкладке *Manage Users* выберите пользователя и нажмите на кнопку {btn}[Edit...].

. Укажите новый  *пароль*, *подтверждение пароля* и нажмите на кнопку {btn}[OK], после чего пользователь сможет войти в систему с новым паролем.

{{% notice note %}}
После вашего первого входа в систему под учётной записью Администратора рекомендуется  сменить административный пароль.
{{% /notice %}}

=== Удаление пользователей

. На вкладке *Manage Users* выберите пользователя (или несколько пользователей) и нажмите на значок *(Х)*, после чего появится диалоговое окно удаления пользователя.
. Нажмите на кнопки {btn}[Yes], {btn}[Delete] для удаления выбранных пользователей, после чего эти пользователи более не смогут войти в SuiteCRM Analytics Server.

=== Назначение ролей пользователю

. На вкладке *Manage Users* выберите пользователя, которому необходимо назначить определённую роль

. В списке *Available* выберите необходимую роль и нажмите на значок *(>)* для перемещения  роли в список *Selected*, после чего пользователь получит все права, связанные с выбранной ролью. 
 
. Для удаления пользователя из роли выполните обратные действия, воспользовавшись значком *(<)*.
 
=== Добавление новых ролей

. На вкладке *Manage Roles* нажмите на значок *(+)*, после чего появится диалоговое окно создания новой роли.

. Введите название роли и нажмите на кнопку {btn}[OK], после чего созданная роль появится в списке *Available*. В созданную роль необходимо добавить соответствующие права (см. ниже).


=== Добавление прав в роль

. В списке *Roles* выберите необходимую роль.

. Отметьте необходимые чекбоксы в списке *Operation Permissions*, после чего выбранные права будут связаны с выбранной ролью, и пользователи, назначенные в эту роль, будут иметь соответствующие права.

=== Удаление ролей

. На вкладке *Manage Roles* выберите роль (или несколько ролей) и нажмите на значок *(Х)*, после чего появится диалоговое окно удаления ролей.

. Нажмите на кнопку {btn}[Yes] для удаления роли и обновления списка ролей. Удалённая роль более не будет доступна. Пользователь, связанный с этой ролью, будет удалён из неё, на других ролях, связанных с этим пользователем, это никак не отразится. Если пользователь был связан с единственной удалённой ролью, то ему необходимо назначить новую роль, в противном случае у него не будет никаких прав. По умолчанию всем пользователям назначается роль *Authenticated*.

=== Назначение пользователей в роль

. На вкладке *Manage Roles* выберите роль, в которую необходимо назначить определённых пользователей.

. В списке *Available* выберите необходимого пользователя и нажмите на значок *(>)* для перемещения  пользователя в список *Selected*, после чего пользователь получит все права, связанные с выбранной ролью. Если необходимо добавить ВСЕХ пользователей в выбранную роль - воспользуйтесь значком *(>>)*.

. Для удаления пользователя из роли выполните обратные действия, воспользовавшись значком *(<)*.
 Пользователи, перемещённые из списка *Selected* в список *Available* более не имеют прав, связанных с выбранной ролью.

== Создание отчётов в фоновом режиме

При необходимости вы можете создавать отчёты в фоновом режиме, для этого выполните следующее: 

. Откройте страницу *Browse Files*.
. В панели *Folders* выберите папку, содержащую необходимый файл.
. В панели *Files* выберите необходимый файл.
. В панели *File Actions* выберите *Run in background*, после чего появится диалоговое окно:

image:IMAGE9.png[Создание отчётов в фоновом режиме в SuiteCRM Analytics]

[start=5]
. Заполните следующие поля:

[cols="1,3a",options="header"]
|=======================
|Поле |Описание
|Generated Content Name (Название отчёта) |Введите название отчёта. Если название не указано, используется стандартное - *report*.
|Append Time To Name (Добавить метку времени к названию) | Отметьте этот  параметр, если необходимо добавить метку времени к названию отчёта.
При необходимости можно указать формат метки времени (воспользуйтесь панелью *Preview* для предварительного просмотра необходимого результата).
|Generated Content Location (Расположение создаваемого отчёта)|Нажмите на кнопку {btn}[Select] и укажите папку, куда будет сохранён создаваемый отчёт.
|Overwrite Existing File (Перезаписывать существующий файл) |Отметьте этот  параметр,если необходимо сохранить отчёт под именем уже существующего отчёта, сохранённого ранее в той же папке.
|=======================

[start=6]
. Нажмите на кнопку {btn}[Next].
Если у выбранного отчёта есть дополнительные параметры, например - формат вывода, будет выведен соответствующий запрос.

. По окончании ввода параметров нажмите на кнопку {btn}[Finish].

Созданный отчёт будет сохранён в указанную папку.

== Отчёты по расписанию

Вы можете использовать страницу «Расписания» , чтобы запланировать создание отчёта через регулярные промежутки времени, в определённую дату и время и с различными параметрами.
Вы также можете настроить автоматическую отправку запланированного отчёта по электронной почте, если системный администратор настроил сервер для отправки отчётов по электронной почте.
При необходимости вы можете приостановить выполнение созданного расписания, удалить или отредактировать расписание, изменив частоту создания отчёта, его параметры или настройки электронной почты.

Администратор может ограничить время, в течение которого могут создаваться отчёты по расписанию, указав время блокировки, в течение которого отчёты создаваться не будут. Например, это может быть актуально для выполнения технического обслуживания системы или для минимизации нагрузки в часы пик.
Если выбранное вами время создания отчёта попадает в интервал времени блокировки - выберите альтернативное расписание.

=== Создание отчёта по расписанию

Используя параметры расписания, вы можете автоматически создавать отчёты во время минимальной нагрузки на сервер или на регулярной основе.

. Откройте страницу *Browse Files*.
. В панели *Folders* выберите папку, содержащую необходимый файл.
. В панели *Files* выберите необходимый файл.
. В панели *File Actions* выберите *Schedule*, после чего появится диалоговое окно:

image:IMAGE10.png[Создание отчёта по расписанию в SuiteCRM Analytics]

[start=5]
. Заполните следующие поля:

[cols="1,3a",options="header"]
|=======================
|Поле |Описание
|Schedule Name (Название расписания) |Введите название расписания, этим же именем будет назван создаваемый отчёт. Если название не указано, будет использовано название Файла отчёта.
|Append Time To Name (Добавить метку времени к названию) | Отметьте этот  параметр, если необходимо добавить метку времени к названию отчёта.
При необходимости можно указать формат метки времени (воспользуйтесь панелью *Preview* для предварительного просмотра необходимого результата).
|Generated Content Location (Расположение создаваемого отчёта)|Нажмите на кнопку {btn}[Select] и укажите папку, куда будет сохранён создаваемый отчёт.
|Overwrite Existing File (Перезаписывать существующий файл) |Отметьте этот  параметр,если необходимо сохранить отчёт под именем уже существующего отчёта, сохранённого ранее в той же папке.
|=======================

[start=6]
. Нажмите на кнопку {btn}[Next] и заполните поля расписания:

image:IMAGE11.png[Настройка расписания создания отчёта в SuiteCRM Analytics]

[start=7]
. При выборе повторения обязательно укажите даты начала и окончания повтора, а также шаблон повторения.

[cols="1,3a",options="header"]
|=======================
|Поле |Описание
|Recurrence (Повторение) |Выберите интервал повторения из списка:

* Однократно: однократный запуск файла.
* Секунды: многократный запуск файла с интервалом (в секундах), указанным в шаблоне повторения.
* Минуты: многократный запуск файла с интервалом (в минутах), указанным в шаблоне повторения.
* Часы: многократный запуск файла с интервалом (в часах), указанным в шаблоне повторения.
* Ежедневно: многократный запуск файла либо каждый день, либо с интервалом (в днях), указанным в шаблоне повторения.
* Еженедельно: многократный запуск файла по дням, указанным в шаблоне повторения.
* Ежемесячно: многократный запуск файла в день месяца, указанный в шаблоне повторения.
* Ежегодно: многократный запуск файла в дату, указанную в шаблоне повторения.
* Cron: запуск файла в соответствии с атрибутами Quartz Cron, указанными в поле *Cron String*.
Если вы хотите ввести собственный временной интервал, выберите опцию *Cron*.

Если администратор настроил время блокировки, то в нижней части окна будет отображаться кнопка {btn}[View Blockout Times], нажав на которую можно просмотреть перечень интервалов времени, в течение которых отчёты создаваться не будут.

|Recurrence Pattern (Шаблон повторения) |Шаблон повторения, зависящий от выбранного значения в комбобоксе *Recurrence (Повторение)*.
|Range of Recurrence (Диапазон повторения) | Даты начала и окончания создания отчёта.
Цикл регулярного создания отчёта начнётся в указанную здесь дату начала и завершится в указанную здесь дату окончания.
|Start Date - Run Once (Дата создания - при однократном запуске) | Укажите дату запуска файла, если в качестве интервала повторения выбрано значение *Однократно*.
|Cron String (Cron) |Если в качестве интервала повторения выбран *Cron*, пропишите соответствующее правило для планировщика. Синтаксис правил описан в разделе <<Атрибуты Quartz Cron>>.

|=======================

{{% notice warning %}}
При настройке правила *Cron* вы должны помнить, что оно начнёт выполняться в *12 часов дня по серверному времени* в указанную *Дату начала*.
Например, если вы создадите новое расписание, которое должно выполняться с *9:00* каждые 15 минут, оно начнёт выполняться только в *12:00* указанной даты начала. Чтобы расписание начало выполняться *сразу*, лучше всего выбрать день, предшествующий сегодняшней дате.
{{% /notice %}}

[start=8]
. После вода необходимых параметров нажмите на кнопку {btn}[Next]. Если отчёт использует дополнительные параметры, например - формат вывода, будет выведен соответствующий запрос.
. Если администратор SuiteCRM Analytics настроил почтовый сервер, вы можете отправить копию отчета выбранным пользователям по электронной почте.
Например, вы можете отправлять пользователями финансового отдела   данные в формате Excel по электронной почте каждый раз, когда происходит создание отчёта по расписанию.
[loweralpha]
.. Нажмите на кнопку {btn}[No], чтобы не отправлять пользователям по электронной почте копию отчёта. 
.. Нажмите на кнопку {btn}[Yes], чтобы отправлять пользователям по электронной почте копию отчёта, после чего заполните поля данными пользователей и нажмите на кнопку {btn}[OK].
. По завершении настройки параметров нажмите на кнопку {btn}[Finish].

=== Изменение расписания

При необходимости вы можете отредактировать расписание, изменив частоту создания отчёта, параметры отчёта и настройки электронной почты:

. Откройте страницу *Schedules*.
. В перечне расписаний выберите необходимое расписание и на панели инструментов нажмите иконку *Edit*.
. Измените необходимые параметры, как это описано в разделе <<Создание отчёта по расписанию>>. 

=== Удаление расписания

. Откройте страницу *Schedules*.
. В перечне расписаний выберите необходимое расписание и на панели инструментов нажмите иконку *Delete*. 
Удаление расписания не приведёт к удалению созданного по нему отчёта.


=== Управление расписаниями

Администратор может создавать, запускать, удалять, останавливать, редактировать или возобновлять выполнение расписания. После того, как пользователь составил расписание создания отчёта, администратор может отредактировать, приостановить или удалить это расписание, а также изменить периодичность создания отчёта, изменить его параметры или настроить параметры электронной почты. Перед отправкой отчётов по электронной почте, убедитесь, что почтовый сервер настроен соответствующим образом.

== Использование электронной почты для отправки создаваемых отчётов

Удобный способ поделиться создаваемыми отчётами - указать сервер электронной почты, который будет использоваться сервером SuiteCRM Analytics для отправки этих отчётов получателям.
Эта функция работает с отчётами, создаваемыми по расписанию, автоматизируя процесс отправки отчётов по электронной почте сообществу пользователей.
Для *основной настройки* SuiteCRM Analytics Server не требуется почтовый сервер, поэтому, если вы хотите быстро начать работу или у вас пока нет информации о своём почтовом сервере -  пропустите этот шаг.
Вы всегда сможете вернуться к нему позже.

=== Настройка почтового сервера

Используйте страницу администрирования SuiteCRM Analytics для доступа к разделу *Mail Server*:

. Откройте страницу *Главная > Администрирование > Почтовый сервер* (Home > Administration > Mail Server).

image:IMAGE12.png[Настройка почтового сервера для Suitecrm Analytics"]

[start=2]
. Введите параметры почтового сервера
 
[cols="1,3a",options="header"]
|=======================
|Параметр |Описание
|Hostname (SMTP) |Адрес SMTP-сервера.
|Port |Порт SMTP-сервера, обычно используется 25 порт. Для
Gmail укажите 587 порт.
|User Name |Имя пользователя, используемое для подключения к почтовому серверу.
|Password |Пароль, используемый для подключения к почтовому серверу.
|Server Type |Тип почтового сервера, обычно используется SMTP. 
Для Gmail укажите SMTP.
|Email From Address |Адрес отправителя email.
|Email From Name |Имя отправителя. Если поле не заполнено - используется *SuiteCRM Analytics Scheduler*.
|Use Start TLS |Включите, если используется протокол TLS.
|Use SSL |Включите, если используется протокол SSL.
Для Gmail параметр должен быть включён.
|=======================

[start=3]
. Нажмите на кнопку {btn}[Test Email Configuration] для тестирования подключения; при успешном подключении нажмите на кнопку {btn}[Save].

== Атрибуты Quartz Cron

Движок Quartz Cron поддерживает объявление времени при помощи семи атрибутов. Формат чисел одинаков для всех выражений, даже если значения разные - они должны быть указаны как секунды, минуты, часы, день месяца, месяц, день недели и год. Атрибуты отделяются друг от друга пробелом.

Допустимы следующие значения для каждого атрибута: от 0 до 59 для секунд и минут, от 0 до 23 для часов, от 1 до 31 для дней, от 1 до 12 для месяцев, от 1 до 7 для дня недели и четыре цифры для года. В качестве альтернативы вы можете использовать трёхбуквенные значения дня недели (SUN, MON, TUE, WED, THU, FRI, SAT). Однако трёхбуквенные значения месяца (JAN, FEB и т. д.) не поддерживаются. Для месяцев используйте цифры от 1 до 12.

Звёздочка (\*) обозначает все значения, поэтому звёздочка в поле минут означает, что отчёт запускается раз в минуту.
Вы можете указать диапазон значений с помощью оператора '-' (тире), вы также можете указать несколько отдельных значений с помощью запятой.
Если вам нужно исключить из задания cron день месяца и день недели - используйте знак вопроса (?), чтобы указать, что это значение не имеет значения.
Если вам нужно разделить значения, вы можете сделать это с помощью символа косой черты (/) - этот оператор буквально означает 'каждый', поэтому 0/15 будет означать **каждые 15**.
В поле дня месяца вы можете использовать символ **#** для обозначения определённого дня месяца, например, вторая пятница месяца будет обозначена как 6#2.

Вы можете использовать заглавную *L* в поле дня месяца и дня недели, чтобы указать 'последний' - последний день недели или месяца.
Заглавная *W* в атрибуте дня месяца означает 'будний день', который охватывает только дни с понедельника по пятницу.
Символ *W* можно указывать только в том случае, если день месяца - это один день, а не диапазон или перечень дней.
Большинство этих значений можно комбинировать, что позволяет составлять достаточно необычные расписания для cron.

[cols=",",options="header"]
|=======================
|Атрибут |Условия и операторы
|Секунды |, - * /
|Минуты |, - * /
|Часы |, - * /
|День месяца |, - * ? / L W
|Месяц |, - * /
|День недели |, - * ? / L #
|Год |, - * /
|=======================

=== Примеры расписаний для Cron

[options="header",cols=" ,a"]
|=======================
|Пример |Описание
|0 0/30 * * * ? * |Выполнять каждые 30 минут в каждый день года
|0 15 10 ? * 6L * |Выполнять в 10:15 каждую последнюю пятницу каждого месяца
|0 30 10 ? * TUE,WED,THU * |Выполнять в 10:30 в каждый вторник, среду и четверг
|=======================

Вы также можете составлять Cron-расписания, используя сайт link:http://www.cronmaker.com[www.cronmaker.com^].

== Кеш данных

SuiteCRM Analytics Server имеет возможность *кэширования данных*.
При запуске отчёта или панели мониторинга определённые данные будут кешироваться для использования их в будущем.
Важно понимать, что при обновлении хранилища данных вам также может потребоваться и обновление кеша сервера аналитики SuiteCRM.

=== Обновление кеша диаграмм

Кеширование активно задействуется в диаграммах панелей мониторинга, используемых в  SuiteCRM Analytics.
Это также относится и к диаграммам, отображаемых в отчётах.
Для обновления кеша диаграмм выполните следующие действия:

В SuiteCRM Analytics откройте меню *Tools* > *Refresh* > *CDA Cache*, после чего появится сообщение о том, что кеш диаграмм был очищен.

image:IMAGE13.png[Обновление кеша диаграмм в SuiteCRM Analytics]

=== Обновление кеша отчётов

Кеширование данных отчётов относится именно к отчётам и не затрагивает диаграммы.
Для обновления кеша отчётов выполните следующие действия:

В SuiteCRM Analytics откройте меню *Tools* > *Refresh* > *Reporting Data Cache*, после чего появится сообщение о том, что кеш отчётов был очищен.

image:IMAGE14.png[Обновление кеша отчётов в SuiteCRM Analytics]
